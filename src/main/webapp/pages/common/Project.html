<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../css/recruit.css">
    <link rel="stylesheet" href="../../css/project.css">
    <script src="../../js/recruit.js"></script>
    <script src="../../js/ajax.js"></script>
    <script src="../../js/Project.js"></script>
</head>

<body>
    <!-- 导航栏 -->
    <div class="nav_s">
        <div class="left"><span>创</span>益</div>
        <div class="middle">
            <ul class="nav_ul_s">
                <li>
                    <a href="javascript:;">首页</a>
                </li>
                <li>
                    <a href="javascript:;">志愿招募</a>
                </li>
                <li>
                    <a href="javascript:;">成就展示</a>
                </li>
                <li class="pitch">
                    <a href="javascript:;">招募志愿者</a>
                    <span></span>
                </li>
                <li>
                    <a href="javascript:;">助农</a>
                </li>
                <li>
                    <a href="javascript:;">领养动物</a>
                </li>
                <li>
                    <a href="javascript:;">关爱儿童</a>
                </li>
            </ul>
        </div>
        <div class="right username">
            <div class="pic"></div>
            <span>Quester</span>
        </div>
    </div>
    <!-- 大照片 -->
    <div class="big_pic_s">
        <div class="big_pic_left_line"></div>
        志愿项目
        <div class="big_pic_right_line"></div>
    </div>
    <!-- 切换栏 -->
    <div class="pro_box">
        <ul>
            <li class="pro_li_cur">志愿项目</li>
            <li>志愿招募</li>
        </ul>
    </div>
    <!-- 中间的大盒子 -->
    <div class="pro_main">
        <div class="main_top_d">
            <span>首页</span>
            <span>></span>
            <span>志愿项目</span>
            <span>></span>
            <span>志愿队伍</span>
        </div>
        <div class="sele_wrapper">
            <div class="province_d">
                <img src="../../images/diqu.png" alt="">
                <span>项目地区</span>
                <span class="red_bg">全国</span>
            </div>
            <div class="theme_d">
                <img src="../../images/theme (1).png" alt="">
                <span>项目主题</span>
                <span class=" item_d red_bg">全部</span>
                <span class="item_d">社区服务</span>
                <span class="item_d">卫生健康</span>
                <span class="item_d">法律服务</span>
                <span class="item_d">环境保护</span>
                <span class="item_d">科技科普</span>
                <span class="item_d">文化艺术</span>
                <span class="item_d">交通引导</span>
                <span class="item_d">志愿消防</span>
                <span class="item_d">禁毒宣传</span>
                <span class="item_d">海外志愿服务</span>
                <span class="item_d">体育健身</span>
            </div>
            <div class="people_d">
                <img src="../../images/people.png" alt="">
                <span>项目人数</span>
                <span class="peo_d red_bg">全部</span>
                <span class="peo_d">0-21</span>
                <span class="peo_d">21-40</span>
                <span class="peo_d">41-60</span>
                <span class="peo_d">61-80</span>
                <span class="peo_d">80-100</span>
                <span class="peo_d">100以上</span>
            </div>
            <div class="tagged_box">
                <input type="text" class="pro_search">
                <div class="left_em">
                    <span>
                        项目编号
                    </span>
                    <img src="../../images/down.png" alt="">
                </div>
                <div class="center_em">
                    <img src="../../images/搜索.png" alt="">
                    <span>项目编号</span>
                </div>
                <div class="box"></div>
            </div>
        </div>
    </div>
    <div class="wrapper"></div>
    <!-- 页脚 -->
    <script>
        let data = [];
        // 下面的渲染方法的参数
        let box = document.querySelector('.box');
        // 制造88条假数据（实则需要根据后端返回的数目）
        for (let i = 0; i < 88; i++) {
            data.push({
                name: ''
            })
        }

        // 每一个页面放的数据数
        let pageSize = 9;
        // 总的页数
        let allPage = Math.ceil(data.length / pageSize);
        let wrapper = document.querySelector('.wrapper');
        let obj = new TurnPage({
            currentPage: 1,
            allPage: allPage,
            wrap: wrapper,
            changePage: function(page) {
                // console.log(page);
                // 我们要渲染到页面上的数据
                var filterData = data.filter((item, index) => {
                    return index >= (page - 1) * pageSize && index < page * pageSize;
                })
                renderDom(filterData);
            }
        })

        obj.init();
        // 将一个数组渲染到页面上,传入一个data
        function renderDom(data) {
            // 清空上一个页面的
            box.innerHTML = '';
            data.forEach(element => {
                let oDiv = document.createElement('div');
                // 填充后端返回对象的各种属性，动态创建各个结构的盒子 大div小span等等
                oDiv.innerText = element.name;
                oDiv.classList.add('nine_box');
                let sonDiv = document.createElement('div');
                let titleSpan = document.createElement('span');
                titleSpan.classList.add('titleSpan');
                sonDiv.appendChild(titleSpan);
                sonDiv.classList.add('son_div')
                oDiv.appendChild(sonDiv);
                box.appendChild(oDiv);
            });
        }
        renderDom(data.filter((item, index) => {
            return index < 9;
        }));
    </script>
</body>

</html>