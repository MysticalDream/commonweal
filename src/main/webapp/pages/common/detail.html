<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../css/recruit.css">
    <link rel="stylesheet" href="../../css/font.css">
    <link rel="stylesheet" href="../../css/detail.css">
    <link rel="stylesheet" href="../../css/project.css">
    <script src="../../js/recruit.js"></script>
    <script src="../../js/recruit.js"></script>
</head>

<body>
    <!-- 导航栏 -->
    <div class="nav_s">
        <div class="left"><span>创</span>益</div>
        <div class="middle">
            <ul class="nav_ul_s">
                <li>
                    <a href="../../index.html">首页</a>
                </li>
                <li class="pitch">
                    <a href="./newPro.html">志愿项目</a>
                </li>
                <li>
                    <a href="./expand.html">招募志愿者</a>
                </li>
                <li>
                    <a href="./show.html">风采展示</a>
                </li>
                <li>
                    <a href="./agriculture.html">助农</a>
                </li>
                <li>
                    <a href="./adpot.html">领养动物</a>
                </li>
                <li>
                    <a href="javascript:;">关爱儿童</a>
                </li>
            </ul>
        </div>
        <div class="right username">
            <!-- <div class="pic"></div>
            <span>common</span> -->
        </div>
    </div>
    <!-- 大照片 -->
    <div class="big_pic_s">
        <div class="big_pic_left_line"></div>
        <span class="center_title">志愿项目</span>
        <div class="big_pic_right_line"></div>
    </div>
    <!-- 主体内容 -->
    <div class="detail_main">
        <div class="main_top_d">
            <span>首页</span>
            <span>></span>
            <span>志愿项目</span>
            <span>></span>
            <span>正文</span>
        </div>
        <div class="main_content">

        </div>
        <!-- <div class="main_content">
            <h1>北京大学爱心社</h1>
            <div class="detail_img">
                <img src="../../images/beijing.jpg" alt="">
            </div>
            <ul class="detail_ul">
                <li>
                    <img src="../../images/intro.png" alt="">
                    <span>项目介绍</span>
                    <p></p>
                </li>
                <li>
                    <img src="../../images/diqu.png" alt="">
                    <span>项目地区</span>
                    <div>北京市</div>
                </li>
                <li>
                    <img src="../../images/theme (1).png" alt="">
                    <span>项目主题</span>
                    <div>社区服务</div>
                </li>
                <li>
                    <img src="../../images/people.png" alt="">
                    <span>项目人数</span>
                    <div>8</div>
                </li>
                <li>
                    <img src="../../images/diqu.png" alt="">
                    <span>项目预计时长</span>
                    <div>52小时</div>
                </li>
            </ul>
            <span class="join_d">我要加入</span>
        </div> -->
    </div>
    <!-- 页脚部分 -->
    <div class="footer left_foot">
        <div class="footer_lf">
            <h3>创益</h3>
            <ul class="first">
                <li>
                    <a href="javascript:;">关于我们</a>
                </li>
                <li>
                    <a href="javascript:;">联系我们</a>
                </li>
                <li>
                    <a href="javascript:;">用户协议</a>
                </li>
                <li>
                    <a href="javascript:;">加入我们</a>
                </li>
            </ul>
            <ul class="second">
                <li>
                    <a href="javascript:;">友情链接</a>
                </li>
                <li>
                    <a href="javascript:;">隐私政策</a>
                </li>
                <li>
                    <a href="javascript:;">创益认证</a>
                </li>
                <li>
                    <a href="javascript:;">Investor Relations</a>
                </li>
            </ul>
        </div>
        <div class="footer_rg">
            <h3>传送门</h3>
            <ul class="first">
                <li>
                    <a href="javascript:;">协议汇总</a>
                </li>
                <li>
                    <a href="javascript:;">活动中心</a>
                </li>
                <li>
                    <a href="javascript:;">活动专题页</a>
                </li>
                <li>
                    <a href="javascript:;">侵权申诉</a>
                </li>
            </ul>
            <ul class="second">
                <li>
                    <a href="javascript:;">帮助中心</a>
                </li>
                <li>
                    <a href="javascript:;">用户反馈论坛</a>
                </li>
                <li>
                    <a href="javascript:;">壁纸站</a>
                </li>
                <li>
                    <a href="javascript:;">广告合作</a>
                </li>
            </ul>
            <ul class="third">
                <li>
                    <a href="javascript:;">名人堂</a>
                </li>
                <li>
                    <a href="javascript:;">管理中心</a>
                </li>
                <li>
                    <a href="javascript:;">高级评论</a>
                </li>
                <li>
                    <a href="javascript:;">企业号官网</a>
                </li>
            </ul>
        </div>
    </div>

    <script>
        window.addEventListener('load',()=>{
            // 获取拼接的参数
            function isNumber(val) {
                var reg = /^[0-9]+\.?[0-9]*$/;
                return reg.test(val);
            };
            function getUrlParamObject(url) {
                const params = url.slice(url.indexOf('?') + 1, url.length);
                const group = params.split('&');
                const data = new Object();
                for (const index in group) {
                    const arr = group[index].split('=');
                    data[arr[0]] = isNumber(arr[1]) ? parseFloat(arr[1]) : arr[1];
                }
                return data;
            };

            function getContent(data){
                let str=`
            <h1>${data.data.itemTitle}</h1>
            <div class="detail_img">
                <img src="${data.data.coverUrl}" alt="">
            </div>
            <ul class="detail_ul">
                <li>
                    <img src="../../images/intro.png" alt="">
                    <span>项目介绍</span>
                    <p>${data.data.itemIntroduction}</p>
                </li>
                <li>
                    <img src="../../images/diqu.png" alt="">
                    <span>项目地区</span>
                    <div>${data.data.location}</div>
                </li>
                <li>
                    <img src="../../images/theme (1).png" alt="">
                    <span>项目主题</span>
                    <div>${data.data.itemCategory1}</div>
                </li>
                <li>
                    <img src="../../images/people.png" alt="">
                    <span>项目人数</span>
                    <div>${data.data.currentHeadcount}</div>
                </li>
                <li>
                    <img src="../../images/diqu.png" alt="">
                    <span>项目预计时长</span>
                    <div>${data.data.duration}</div>
                </li>
            </ul>
            <span class="join_d">我要加入</span>
            `;
            let main_content=document.querySelectorAll('.main_content')[0];
            main_content.innerHTML=str;
            }

        ajax({
            type:'get',
            url:'/items/'+getUrlParamObject(window.location.search),
            header:{
                'Content-Type':'application/x-www-form-urlencoded'
            },
            success:function(data){
                getContent(data);
            },
            error:function(){

            }
        })
//         var obj_pp={
// "code": 200,
// "message": "操作成功",
// "success": true, //成功响应
// "data": {
// "itemId": 1,
// "itemTitle": "“幸福星”心理关爱热线服务",
// "itemIntroduction": "热线以关怀每个个体生命、提高全体民众心理素质为宗旨，通过专业的心理热线，化解民众内心矛盾冲突，积极引导社会大众由“心安”到“平安”，从源头防范和降低社会风险，杜绝“小问题”引发为“大事件”",
// "gmtCreate": "2021-10-30 16:33:23",
// "userId": 1,
// "coverUrl": "/upload/images/avatars/item/da228578744c42abbba0eddaa19ab06b.jpg",
// "duration": "1月",
// "maximumNumberLimit": 10,
// "currentHeadcount": 0, //当前人数
// "province": "44",
// "city": "01",
// "area": "06",
// "status": 1,
// "itemCategory1": "社区服务",
// "location": "广东省广州市天河区"
// } //返回数据
// }
        // getContent(obj_pp);
        })
    </script>
</body>

</html>